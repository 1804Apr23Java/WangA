--Create a database with two tables:
--EMPLOYEE: EMPLOYEE_ID, EMP_FIRSTNAME, EMP_LASTNAME, DEPARTMENT_ID, SALARY, EMP_EMAIL
--DEPARTMENT:Columns: DEPARTMENT_ID, DEPARTMENT_NAME
/*************************************
Create table
****************************************/
DROP TABLE EMPLOYEE;
CREATE TABLE EMPLOYEE
(
    EMPLOYEEID INT NOT NULL,
    EMP_FIRSTNAME VARCHAR2(160) NOT NULL,
    EMP_LASTNAME NUMBER NOT NULL,
    DEPARTMENT_ID NUMBER NOT NULL,
    SALARY NUMBER NOT NULL,
    EMP_EMAIL VARCHAR2(50),
    CONSTRAINT PK_EMPLOYEE PRIMARY KEY  (EMPLOYEEID)
);
/
DROP TABLE DEPARTMENT;

CREATE TABLE DEPARTMENT
(
    DEPARTMENT_ID INT NOT NULL,
    DEPARTMENT_NAME VARCHAR2(160) NOT NULL,
    CONSTRAINT PK_DEPARTMENT PRIMARY KEY  (DEPARTMENT_ID)
);

/*****************************************
Sequence
*****************************************/
CREATE SEQUENCE SQ_EMPLOYEE_PK
START WITH 1
INCREMENT BY 1;
/
CREATE SEQUENCE SQ_DEPARTMENT_PK
START WITH 1
INCREMENT BY 1;
/
CREATE OR REPLACE TRIGGER TR_EMPLOYEE
BEFORE INSERT ON EMPLOYEE
FOR EACH ROW
BEGIN
    SELECT SQ_EMPLOYEE_PK.NEXTVAL INTO :NEW.EMPLOYEEID FROM DUAL;    
END;

CREATE OR REPLACE TRIGGER TR_DEPARTMENT
BEFORE INSERT ON DEPARTMENT
FOR EACH ROW
BEGIN
    SELECT SQ_DEPARTMENT_PK.NEXTVAL INTO :NEW.DEPARTMENT_ID FROM DUAL;    
END;
/****************************************************
 Foreign key constrain
 ***************************************************/
 
 ALTER TABLE EMPLOYEE ADD CONSTRAINT PK_ACCOUNTDEPARTMENT 
    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT(DEPARTMENT_ID);


--Insert at least six employees and three departments.  
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('SOFTWARE');
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('IT');
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('MARKETING');
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('PROF');
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('CIVIL');
INSERT INTO DEPARTMENT (DEPARTMENT_NAME) VALUES ('ELEC');

SELECT * FROM DEPARTMENT;

INSERT INTO EMPLOYEE(EMP_FIRSTNAME,
    EMP_LASTNAME,
    DEPARTMENT_ID,
    SALARY,
     EMP_EMAIL) VALUES ('SHIVAM','AASHIR',1 ,'47.00','SHIVAM.AA@GMAIL');

INSERT INTO EMPLOYEE(EMP_FIRSTNAME,
    EMP_LASTNAME,
    DEPARTMENT_ID,
    SALARY,
    EMP_EMAIL) VALUES('VANDY','MALIK',2,'47000','VANDY.MALIK@GMAIL.COM');
INSERT INTO EMPLOYEE(EMP_FIRSTNAME,
    EMP_LASTNAME,
    DEPARTMENT_ID,
    SALARY,
    EMP_EMAIL) VALUES('JORDAN','GOLD',3,47000,'JG@GMAIL.COM');
INSERT INTO EMPLOYEE(EMP_FIRSTNAME,
    EMP_LASTNAME,
    DEPARTMENT_ID,
    SALARY,
    EMP_EMAIL) VALUES('SANDY','LAGER',4,47000,'SL@GMAIL.COM');
INSERT INTO EMPLOYEE(EMP_FIRSTNAME,
    EMP_LASTNAME,
    DEPARTMENT_ID,
    SALARY,
    EMP_EMAIL) VALUES('VALKIZADIAN','HERO',5,47000,'VH@GMAIL.COM');
    
SELECT * FROM EMPLOYEE;


